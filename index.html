<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Tetris Attack Clone</title>
  <link rel="icon" type="image/x-icon" href="favicon.ico">
  <link rel="icon" type="image/svg+xml" href="favicon.svg">
  <link rel="apple-touch-icon" href="favicon.svg">
  <link rel="stylesheet" href="css/styles.css">
</head>
<body>
  <div class="container">
    <div class="game-section">
      <canvas id="canvas" class="hidden"></canvas>
    </div>
  </div>

  <!-- Title Screen Overlay -->
  <div id="title-screen" class="screen-overlay">
    <div class="screen-content">
      <div class="title-icon">
        <svg width="64" height="64" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg">
          <defs>
            <!-- Red block gradient -->
            <linearGradient id="redGradient" x1="0%" y1="0%" x2="100%" y2="100%">
              <stop offset="0%" style="stop-color:#FF6666;stop-opacity:1" />
              <stop offset="100%" style="stop-color:#CC0000;stop-opacity:1" />
            </linearGradient>
            
            <!-- Cyan block gradient -->
            <linearGradient id="cyanGradient" x1="0%" y1="0%" x2="100%" y2="100%">
              <stop offset="0%" style="stop-color:#66FFFF;stop-opacity:1" />
              <stop offset="100%" style="stop-color:#00CCCC;stop-opacity:1" />
            </linearGradient>
          </defs>
          
          <!-- Background -->
          <rect width="32" height="32" fill="#2c3e50"/>
          
          <!-- Red block (left, slightly overlapping) -->
          <rect x="2" y="8" width="14" height="16" fill="url(#redGradient)" stroke="#990000" stroke-width="0.5"/>
          <!-- Red block 3D effect -->
          <rect x="2" y="8" width="14" height="2" fill="#FF9999"/>
          <rect x="2" y="8" width="2" height="16" fill="#FF9999"/>
          <rect x="2" y="22" width="14" height="2" fill="#990000"/>
          <rect x="14" y="8" width="2" height="16" fill="#990000"/>
          
          <!-- Cyan block (right, slightly overlapping) -->
          <rect x="16" y="8" width="14" height="16" fill="url(#cyanGradient)" stroke="#006666" stroke-width="0.5"/>
          <!-- Cyan block 3D effect -->
          <rect x="16" y="8" width="14" height="2" fill="#99FFFF"/>
          <rect x="16" y="8" width="2" height="16" fill="#99FFFF"/>
          <rect x="16" y="22" width="14" height="2" fill="#006666"/>
          <rect x="28" y="8" width="2" height="16" fill="#006666"/>
          
          <!-- Cursor/selector (two black outlined rectangles) -->
          <rect x="8" y="4" width="8" height="12" fill="none" stroke="black" stroke-width="2"/>
          <rect x="16" y="4" width="8" height="12" fill="none" stroke="black" stroke-width="2"/>
        </svg>
      </div>
      <h1 class="screen-title">Tetris Attack Clone</h1>
      <div>
        <button id="start-game-btn" class="game-button">Start Game</button>
        <button id="show-instructions-btn" class="game-button">Instructions</button>
      </div>
    </div>
  </div>

  <!-- Instructions Screen Overlay -->
  <div id="instructions-screen" class="screen-overlay hidden">
    <div class="screen-content">
      <h1 class="screen-title">How to Play</h1>
      <div style="text-align: left; margin-bottom: 20px;">
        <h3>Objective</h3>
        <p>Clear the colored blocks before the stack rises to the top. Garbage blocks will fall from the top of the screen. You can clear them by creating an adjacent match.</p>
        
        <h3>Controls</h3>
        <ul>
          <li><strong>ENTER/SPACE</strong> - Swap blocks</li>
          <li><strong>Arrow keys</strong> - Move cursor</li>
          <li><strong>N</strong> - Restart the game</li>
          <li><strong>R</strong> - Force another row to be added</li>
        </ul>
      </div>
      <button id="back-to-title-btn" class="game-button">Back to Title</button>
    </div>
  </div>

  <!-- Game Over Screen Overlay -->
  <div id="game-over-screen" class="screen-overlay hidden">
    <div class="screen-content">
      <h1 class="screen-title">Game Over</h1>
      <p style="font-size: 1.2em; margin-bottom: 30px; color: #7f8c8d;">
        The blocks reached the top!
      </p>
      <div>
        <button id="try-again-btn" class="game-button">Try Again</button>
        <button id="game-over-title-btn" class="game-button">Back to Title</button>
      </div>
    </div>
  </div>

  <script src="js/main.js"></script>
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      // Initialize the ClojureScript screen system
      if (typeof attack !== 'undefined' && attack.entrypoint) {
        attack.entrypoint.init();
      }
    });
  </script>
</body>
</html>
  
